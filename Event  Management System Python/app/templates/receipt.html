<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>{{ 'Proforma ' if is_proforma else '' }}Receipt - Booking #{{ booking.id }}</title>
  <style>
    body { font-family: DejaVu Sans, Arial, sans-serif; font-size: 12px; color: #333; }
    .header { display: flex; justify-content: space-between; align-items: center; }
    .brand h1 { margin: 0; font-size: 20px; }
    .meta { text-align: right; }
    .box { border: 1px solid #ccc; padding: 10px; border-radius: 6px; }
    table { width: 100%; border-collapse: collapse; margin-top: 15px; }
    th, td { border: 1px solid #ddd; padding: 8px; }
    th { background: #f5f5f5; }
    .total { text-align: right; font-weight: bold; }
    .muted { color: #777; }
  </style>
  <!-- DejaVu Sans provides ₹ glyph support when rendering PDF -->
</head>
<body>
  <div class="header">
    <div class="brand">
      <h1>Event Management</h1>
      <div class="muted">www.example.com • support@example.com</div>
    </div>
    <div class="meta">
      <div><strong>{{ 'Proforma ' if is_proforma else '' }}Receipt</strong></div>
      <div>Booking #{{ booking.id }}</div>
      <div>Date: {{ generated_on }}</div>
    </div>
  </div>

  <div style="margin-top: 15px;" class="box">
    <strong>Billed To</strong>
    <div>{{ (booking.user_first_name ~ ' ' ~ booking.user_last_name).strip() if booking.user_first_name or booking.user_last_name else 'Customer' }}</div>
    <div>{{ booking.user_email or '' }}</div>
    <div>{{ booking.user_contactno or '' }}</div>
  </div>

  <table>
    <thead>
      <tr>
        <th>Description</th>
        <th>Qty</th>
        <th>Unit Price</th>
        <th>Amount</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Event Booking on {{ booking.event_date if booking.event_date is string else booking.event_date.strftime('%B %d, %Y') }} at {{ booking.start_at }} ({{ booking.max_total_hour }} hours)</td>
        <td>1</td>
        <td>₹{{ booking.amount }}</td>
        <td>₹{{ booking.amount }}</td>
      </tr>
    </tbody>
    <tfoot>
      <tr>
        <td colspan="3" class="total">Total</td>
        <td>₹{{ booking.amount }}</td>
      </tr>
      <tr>
        <td colspan="3" class="total">Payment Status</td>
        <td>{{ 'Paid' if booking.payment_status == 1 else 'Unpaid (Proforma)' }}</td>
      </tr>
    </tfoot>
  </table>

  <p class="muted" style="margin-top: 20px;">This is a {{ 'proforma ' if is_proforma else '' }}receipt generated for your booking. Keep this for your records.</p>
</body>
</html>


